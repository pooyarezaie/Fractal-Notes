---
title: "مجموع توان‌ها با یک نگاه ترکیبیاتی"
description: "بازنویسی مجموع توان‌ها به صورت یک مسئله‌ی شمارش و استفاده از ایده‌ی «یک مجموعه، دو روش شمارش» برای نگاه ترکیبیاتی به مسئله."
---

# مجموع توان‌ها با یک نگاه ترکیبیاتی

می‌خواهیم دوباره به مجموع

$$
1^k + 2^k + \cdots + n^k
$$

نگاه کنیم — این بار  با یک ایده‌ی ترکیبیاتی.

---

## ایده‌ی مرکزی

در بسیاری از اثبات‌های ترکیبیاتی، مسیر کار این است:

> یک مجموعه پیدا کن  
> که تعداد اعضایش برابر با کمیتی باشد که می‌خواهی حساب کنی.  
> سپس همان مجموعه را به روشی دیگر بشمار.

به‌جای محاسبه‌ی مستقیم، می‌کوشیم چیزی را **بشماریم**.

---

## یک مجموعه برای شمردن

مجموعه‌ی زیر را در نظر بگیرید:

$$
S = \{(x,y,z)\mid x,y,z \in \{1,2,\dots,n+1\},\; x>y,\; x>z\}.
$$

یعنی مجموعه‌ی تمام سه‌تایی‌های مرتب  
که هر مؤلفه‌ی آن عددی بین $1$ تا $n+1$ است  
و مؤلفه‌ی اول از هر دو مؤلفه‌ی دیگر بزرگ‌تر است.

به بیان ساده‌تر:

- $x$ بزرگ‌ترین عضو سه‌تایی است،
- و $y$ و $z$ می‌توانند هر عددی کوچک‌تر از $x$ باشند.

---

## شمارش اول: تثبیتِ مؤلفه‌ی اول

بیایید مجموعه‌ی $S$ را با تثبیتِ مقدار $x$ بشماریم.

فرض کنید $x$ برابر عددی مشخص باشد.
اگر $x=m$ باشد، چه انتخاب‌هایی برای $y$ و $z$ داریم؟

از آن‌جا که باید
$$
y < m \quad \text{و} \quad z < m,
$$
هر یک از $y$ و $z$ می‌توانند یکی از اعداد

$$
\{1,2,\dots,m-1\}
$$

باشند.

برای $y$، تعداد انتخاب‌ها برابر $m-1$ است.  
برای $z$ هم همین‌طور.

پس برای هر مقدار ثابتِ $m$، تعداد سه‌تایی‌ها برابر است با:

$$
(m-1)^2.
$$

حالا کافی است این را برای همه‌ی مقادیر ممکنِ $x$ جمع کنیم.

چون $x$ می‌تواند یکی از اعداد $1$ تا $n+1$ باشد، داریم:

$$
|S|
=
\sum_{m=1}^{n+1} (m-1)^2.
$$

و با تغییر شاخص:

$$
|S|
=
\sum_{k=0}^{n} k^2
=
\sum_{k=1}^{n} k^2.
$$

پس:

> تعداد عناصر $S$ دقیقاً برابر مجموعِ مربع‌ها از ۱ تا $n$ است.


---

## شمارش دوم: دو حالت برای $y$ و $z$

حالا همان مجموعه‌ی $S$ را یک جور دیگر می‌شماریم.

در هر عضو $S$ داریم $x>y$ و $x>z$.
پس تنها رابطه‌ای که بین $y$ و $z$ ممکن است رخ دهد این است که:

- یا $y$ و $z$ **با هم متفاوت‌اند**،
- یا $y$ و $z$ **برابرند**.

پس $S$ را به دو بخشِ جدا تقسیم می‌کنیم و هر کدام را جدا می‌شماریم.

---

### حالت اول: $y \ne z$

اگر $y$ و $z$ متفاوت باشند، آنگاه سه عدد $x,y,z$ همگی متفاوت‌اند
(چون $x$ از هر دو بزرگ‌تر است و نمی‌تواند با آن‌ها برابر باشد).

پس کافی است سه عددِ متفاوت از مجموعه‌ی $\{1,2,\dots,n+1\}$ انتخاب کنیم
و سپس بزرگ‌ترینشان را به‌عنوان $x$ قرار دهیم.

برای انتخابِ سه عددِ متفاوت، تعداد انتخاب‌ها برابر است با:

$$
\binom{n+1}{3}.
$$

اما برای هر انتخابِ سه‌تاییِ بدون ترتیب $\{a,b,c\}$،
دقیقاً **دو** عضو در $S$ می‌سازد:

- بزرگ‌ترین عدد نقشِ $x$ را دارد،
- دو عددِ کوچک‌تر می‌توانند به دو ترتیب ممکن جای $y$ و $z$ را بگیرند.

پس تعداد اعضای $S$ در این حالت برابر است با:

$$
2\binom{n+1}{3}.
$$

---

### حالت دوم: $y = z$

اگر $y=z$ باشد، آن‌گاه یک زوج $(x,y)$ داریم که باید $x>y$ باشد.

برای شمردن این حالت، کافی است دو عددِ متفاوت از $\{1,2,\dots,n+1\}$ انتخاب کنیم.
عدد بزرگ‌تر می‌شود $x$ و عدد کوچک‌تر می‌شود $y=z$.

تعداد انتخاب دو عددِ متفاوت برابر است با:

$$
\binom{n+1}{2}.
$$

پس تعداد اعضای $S$ در این حالت برابر است با:

$$
\binom{n+1}{2}.
$$

---

## نتیجه‌ی شمارش دوم

با جمع کردن دو حالت داریم:

$$
|S| = 2\binom{n+1}{3} + \binom{n+1}{2}.
$$

اما از شمارش اول داشتیم:

$$
|S| = \sum_{k=1}^{n} k^2.
$$

پس نتیجه می‌گیریم:

$$
\sum_{k=1}^{n} k^2
=
2\binom{n+1}{3} + \binom{n+1}{2}.
$$

(و اگر این عبارت را ساده کنیم، همان فرمول معروفِ
$\frac{n(n+1)(2n+1)}{6}$
به‌دست می‌آید.)

---

## جمع‌بندی

در این یادداشت، به‌جای محاسبه‌ی مستقیم مجموعِ مربع‌ها،

یک مجموعه ساختیم،
آن را به دو روش متفاوت شمردیم،
و از برابریِ این دو شمارش، فرمول را به‌دست آوردیم.

مسئله حل شد —
اما مهم‌تر از جواب،
الگویی بود که دیدیم:

> یک کمیت را می‌توان با «طراحی یک مجموعه»  
> و «شمارش دوگانه» به‌دست آورد.

اکنون طبیعی است که بپرسیم:

آیا می‌توان همین ایده را
برای مجموعِ مکعب‌ها هم به‌کار برد؟

---

## گام بعد: مجموعِ مکعب‌ها

حالا می‌خواهیم با همان ایده، مجموعِ مکعب‌ها را حساب کنیم:

$$
1^3 + 2^3 + \cdots + n^3.
$$

مثل قبل، به‌جای محاسبه‌ی مستقیم،
یک مجموعه طراحی می‌کنیم که تعداد اعضایش دقیقاً همین مقدار باشد.

---

## طراحی مجموعه

این بار، یک مجموعه‌ی چهارتایی در نظر می‌گیریم:

$$
T = \{(w,x,y,z)\mid w,x,y,z \in \{1,2,\dots,n+1\},\; w>x,\; w>y,\; w>z\}.
$$

یعنی مجموعه‌ی تمام چهارتایی‌های مرتب
از $\{1,2,\dots,n+1\}$
که مؤلفه‌ی اول از هر سه مؤلفه‌ی دیگر بزرگ‌تر است.

به زبان ساده:
- $w$ بزرگ‌ترین عضو چهارتایی است،
- و $x,y,z$ هر سه باید عددی کوچک‌تر از $w$ باشند.

---

## شمارش اول: تثبیتِ مؤلفه‌ی اول

مثل قبل، مقدار $w$ را ثابت می‌کنیم.

اگر $w=m$ باشد،
هر یک از $x,y,z$ می‌تواند یکی از اعداد

$$
\{1,2,\dots,m-1\}
$$

باشد؛ یعنی برای هر کدام $m-1$ انتخاب داریم.

پس تعداد چهارتایی‌ها برای $w=m$ برابر است با:

$$
(m-1)^3.
$$

اکنون برای همه‌ی مقدارهای ممکنِ $w$ جمع می‌زنیم:

$$
|T|
=
\sum_{m=1}^{n+1} (m-1)^3
=
\sum_{k=0}^{n} k^3
=
\sum_{k=1}^{n} k^3.
$$

پس:

> تعداد اعضای $T$ دقیقاً برابر مجموعِ مکعب‌ها از ۱ تا $n$ است.


حالا مثل قبل، سراغ شمارش دوم می‌رویم:
این بار باید حالت‌بندیِ مناسب‌تری برای رابطه‌ی بین $x,y,z$ پیدا کنیم.

---

## شمارش دوم: حالت‌بندیِ رابطه‌ی بین $x,y,z$

حالا $T$ را یک جور دیگر می‌شماریم.
سه حالت داریم:


### حالت ۱: $x,y,z$ هر سه متفاوت‌اند

در این حالت چهار عدد $w,x,y,z$ همگی متفاوت‌اند و $w$ بزرگ‌ترینِ آن‌هاست.

پس ۴ عددِ متفاوت از $\{1,2,\dots,n+1\}$ انتخاب می‌کنیم؛
بزرگ‌ترینشان را $w$ می‌گیریم
و سه عددِ باقی‌مانده می‌توانند به $3!$ حالت جای $x,y,z$ بنشینند.

پس تعداد این حالت:

$$
\binom{n+1}{4}\,3!.
$$

---

### حالت ۲: دقیقاً دو تا برابرند

اینجا سه مقدارِ متمایز داریم: یکی برای $w$ و دو مقدار برای $x,y,z$ (یکی از آن‌ها تکرار می‌شود).

ابتدا ۳ عددِ متمایز از $\{1,2,\dots,n+1\}$ انتخاب می‌کنیم؛
بزرگ‌ترینشان را به $w$ می‌دهیم.

دو عددِ باقی‌مانده را $a < b$ فرض کنید.
اکنون باید تصمیم بگیریم:

- کدام دو تا برابر باشند و کدام تنها باشد: $3$ حالت (عضو تنها می‌تواند $x$ یا $y$ یا $z$ باشد)،
- و این‌که مقدارِ تنها کدام‌یک از $a$ و $b$ باشد: $2$ حالت.

پس تعداد این حالت:

$$
\binom{n+1}{3}\cdot 3 \cdot 2.
$$

---

### حالت ۳: $x=y=z$

فقط کافی است دو عددِ متفاوت از $\{1,2,\dots,n+1\}$ انتخاب کنیم؛
بزرگ‌تر $w$ می‌شود و کوچک‌تر مقدار مشترک $x=y=z$.

پس تعداد این حالت:

$$
\binom{n+1}{2}.
$$

---

## نتیجه‌ی شمارش دوم

پس داریم:

$$
|T|
=
\binom{n+1}{4}\,3!
+
\binom{n+1}{3}\,3\cdot 2
+
\binom{n+1}{2}.
$$

اما از شمارش اول:

$$
|T|=\sum_{k=1}^{n} k^3.
$$

پس:

$$
\sum_{k=1}^{n} k^3
=
\binom{n+1}{4}\,3!
+
\binom{n+1}{3}\,3\cdot 2
+
\binom{n+1}{2}.
$$

و اگر این عبارت را ساده کنیم، دقیقاً می‌شود:

$$
\sum_{k=1}^{n} k^3
=
\left(\frac{n(n+1)}{2}\right)^2.
$$

---

## تعمیم ایده: برای توان‌های بالاتر چه می‌شود؟

آن‌چه در دو مثالِ توانِ دو و سه انجام دادیم، یک الگوی مشترک داشت:

- یک عددِ $m^r$ را به‌صورت «تعداد انتخاب‌های یک $r$-تایی» دیدیم،
- سپس مجموعِ $1^r+2^r+\cdots+n^r$ را به‌صورت شمارشِ یک مجموعه‌ی بزرگ‌تر بازنویسی کردیم،
- و بعد همان مجموعه را با یک طبقه‌بندی دیگر شمردیم.

برای توانِ سه، مجموعه‌ی ما این بود:

$$
T=\{(w,x,y,z)\mid w,x,y,z\in\{1,\dots,n+1\},\; w>x,\;w>y,\;w>z\},
$$

و کلِ ایده این بود که:

- با تثبیتِ $w$، تعداد انتخاب‌های $(x,y,z)$ برابر $(w-1)^3$ می‌شد،
- و جمع روی همه‌ی $w$ها همان $\sum k^3$ را می‌ساخت.

همین ساختار برای هر توانِ $k$ هم جواب می‌دهد.

---

## نسخه‌ی کلی

برای عدد طبیعی $k$، مجموعه‌ی زیر را در نظر بگیرید:

$$
T_k=\{(w,a_1,\dots,a_k)\mid w,a_1,\dots,a_k\in\{1,\dots,n+1\},\; w>a_1,\dots,w>a_k\}.
$$

یعنی $(k+1)$-تایی‌های مرتب که مؤلفه‌ی اول از همه‌ی مؤلفه‌های دیگر بزرگ‌تر است.

---

## شمارش اول (همان قدمِ ثابت)

اگر $w=m$ باشد، هر یک از $a_i$ها می‌تواند یکی از اعداد $\{1,\dots,m-1\}$ باشد؛
پس برای هر $m$، تعداد انتخاب‌ها:

$$
(m-1)^k
$$

است.

بنابراین:

$$
|T_k|
=
\sum_{m=1}^{n+1}(m-1)^k
=
\sum_{t=1}^{n} t^k.
$$

پس دوباره یک مجموعه پیدا کردیم که اندازه‌اش دقیقاً همان مجموع توان‌هاست.

---

## شمارش دوم (ایده‌ی اصلی)

در شمارش دوم، به‌جای تثبیتِ $w$،
روی الگوی تکرارها در $(a_1,\dots,a_k)$ تمرکز می‌کنیم:

- چند مقدارِ متمایز بین $a_i$ها ظاهر شده؟
- هر مقدار چند بار تکرار شده؟
- و جایگاهِ این تکرارها چند جور می‌تواند چیده شود؟

به این ترتیب $T_k$ به چند دسته تقسیم می‌شود:
دسته‌هایی که هر کدام با «تعداد انتخابِ چند عددِ متمایز»
و «تعداد چینش‌های ممکن» شمرده می‌شوند.

این همان چیزی است که در توانِ سه دیدیم:
(سه حالت: همه متفاوت، دو تا برابر، همه برابر)
و برای $k$های بزرگ‌تر، حالت‌ها فقط بیشتر می‌شوند
(الگوهای تکرار متنوع‌تر می‌شوند).




